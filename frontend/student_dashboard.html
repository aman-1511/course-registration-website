<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Student Dashboard</title>
    <link rel="stylesheet" href="css/student.css">
</head>
<body>
    <header>
        <h1>Student Dashboard</h1>
        <button id="logoutBtn">Logout</button>
    </header>
    
    <main>
        <section class="enrollment-section">
            <h2>Enroll in Courses</h2>
            <form id="enrollmentForm">
                <div class="form-group">
                    <label for="semester">Select Semester:</label>
                    <select id="semester" name="semester" required>
                        <option value="">Select Semester</option>
                        <option value="1">1</option>
                        <option value="2">2</option>
                        <option value="3">3</option>
                    </select>
                </div>
    
                <div class="form-group">
                    <label for="course">Select Course:</label>
                    <select id="course" name="course" required>
                        <option value="">Select Course</option>
                    </select>
                </div>
    
                <div class="form-group">
                    <label for="description">Description:</label>
                    <textarea id="description" name="description" rows="3"></textarea>
                </div>
    
                <div class="form-group">
                    <label for="status">Enrollment Status:</label>
                    <select id="status" name="status" required>
                        <option value="enrolled">Enrolled</option>
                        <option value="not_enrolled">Not Enrolled</option>
                    </select>
                </div>
    
                <button type="submit">Submit Enrollment</button>
            </form>
        </section>
    
        <section class="status-section">
            <h2>Pending Courses</h2>
            <ul id="pendingCourses"></ul>
    
            <h2>Accepted Courses</h2>
            <ul id="acceptedCourses"></ul>
        </section>
    </main>
    
    <script>
        // Function to handle token and role from the URL
        function checkGoogleAuthToken() {
            const params = new URLSearchParams(window.location.search);
            const token = params.get('token');
            const role = params.get('role');
    
            if (token && role === 'student') {
                // Store token in localStorage
                localStorage.setItem('token', token);
                // Remove token and role from the URL
                window.history.replaceState({}, document.title, '/student_dashboard.html');
            }
        }

        // Run the function on page load
        checkGoogleAuthToken();
    </script>
    <script src="js/student.js"></script>
</body>
</html>
